<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Integration Architecture"/><link rel="canonical" href="https://mike.gough.me/tips/script-with-go"/><meta name="twitter:url" content="https://mike.gough.me/tips/script-with-go"/><meta name="og:url" content="https://mike.gough.me/tips/script-with-go"/><title>Script with Go | Integration Architecture</title><meta name="twitter:title" content="Script with Go | Integration Architecture"/><meta name="og:title" content="Script with Go | Integration Architecture"/><meta name="description" content="Learn how to run executable scripts in Go."/><meta name="twitter:description" content="Learn how to run executable scripts in Go."/><meta name="og:description" content="Learn how to run executable scripts in Go."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Integration Architecture"/></head><head><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Integration Architecture</a><p>Articles by Mike Gough.</p><nav><ul><li><a href="/articles">Articles</a></li><li><a href="/basics">Basics</a></li><li><a class="selected" href="/tips">Tips</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About Me</a></li></ul></nav></div></header><div class="wrapper"><article class="animated fadeIn"><span class="date">Published on 09 Mar 2020.</span><span class="read-time">ðŸ•‘ 2 minutes read.</span><h1>Script with Go</h1><ul class="tag-list"><li class="tag variant-15"><a href="/tags/tips">Tips</a></li><li class="tag variant-5"><a href="/tags/go">Go</a></li></ul><p>Learn how to run executable scripts in Go.</p><div class="content"><h2>Prerequisites</h2><p>To keep things simple we will assume you have access to a machine running macOS or Linux and have already installed <a href="https://golang.org/">Go</a> and <a href="https://github.com/erning/gorun">Gorun</a>.</p><h2>How to script with Go</h2><img src="/images/posts/go-logo.svg" alt="Go logo"/><p>If you are already a Go developer, you should be familiar with the process of creating a Go package, application or command line tool. Once you have created one of these you would usually need to build a binary and then place it in a executable path before it can be run from a Command Line Interface (CLI). Sometimes, however, we just want to write a script and execute it as is, rather than package it for deployment. This can be particularly useful if you'd like to use Go in different stages of the software development lifecycle such as inside of your Continuous Integration or Continuous Deployment pipelines.</p><p>In such pipelines, it's typical to create a bash file and execute it. For example you could create a file called <code>hello-world</code> with the following contents:</p><pre data-language="bash"><code><span class="hljs-meta">#!/usr/bin/env bash
</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello, World!"</span>
</code></pre><p>You would then make it executable by running:</p><pre data-language="bash"><code>chmod +x hello-world
</code></pre><p>And then execute it by running:</p><pre data-language="bash"><code>./hello-world
</code></pre><p>But this is not just limited to runtime languages like bash, the comment on the first line tells the machine what program to use when interpreting the file. This means we can create and execute a script using the Go programming language instead. For example, let's replace the contents of the <code>hello-world</code> file we created earlier with this:</p><pre data-language="go"><code>#! /usr/bin/env gorun

<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	fmt.Printf(<span class="hljs-string">"hello, world\n"</span>)
}
</code></pre><p>Now you can execute the script by running the same command as we did earlier:</p><pre data-language="bash"><code>./hello-world
</code></pre><p>Once again you should see the text <code>Hello, World!</code> printed to the console.</p><h2>Summary</h2><p>That's it! In this post we have demonstrated a simple way to build small Go scripts that you can modify and run in place whenever you need to, without the need to recompile and deploy them.</p><h2>References</h2><ul><li><a href="https://golang.org/ "golang.org"">Go</a></li><li><a href="https://gist.github.com/posener/73ffd326d88483df6b1cb66e8ed1e0bd "Story: Writing Scripts with Go"">Writing Scripts with Go</a></li></ul><p class="footer">Thanks for reading! ðŸš€</p></div><ul class="share grid compact"><li><a class="twitter" href="https://twitter.com/intent/tweet?via=MikeRyanGough&text=Script%20with%20Go&url=https://mike.gough.me/tips/script-with-go">Share on Twitter</a></li><li><a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://mike.gough.me/tips/script-with-go">Share on Facebook</a></li><li><a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&&titleScript%20with%20Go=&summary=&source=&url=https://mike.gough.me/tips/script-with-go">Share on LinkedIn</a></li></ul></article></div><footer class="animated fadeIn"><p>Mike Gough Â© 2020.</p><p>Powered by <a href="https://github.com/johnsundell/publish">Publish</a> and hosted on <a href="https://github.com/Mike-Gough/Mike-Gough.github.io">GitHub Pages</a>. 100% JavaScript-free.</p><p>Notice a broken link or other issue? <a href="https://github.com/Mike-Gough/Mike-Gough.github.io/issues">Open an issue!</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>